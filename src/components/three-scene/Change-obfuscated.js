const a0_0xad1bc4=a0_0x3f96;(function(_0x1fc0ea,_0x1b5cd5){const _0x452931=a0_0x3f96,_0x18a1f1=_0x1fc0ea();while(!![]){try{const _0x40fcbd=parseInt(_0x452931(0x281))/0x1+parseInt(_0x452931(0x263))/0x2*(parseInt(_0x452931(0x260))/0x3)+parseInt(_0x452931(0x1f3))/0x4*(-parseInt(_0x452931(0x2a4))/0x5)+-parseInt(_0x452931(0x20d))/0x6+parseInt(_0x452931(0x1e0))/0x7+-parseInt(_0x452931(0x2b6))/0x8*(-parseInt(_0x452931(0x27e))/0x9)+-parseInt(_0x452931(0x1fa))/0xa*(-parseInt(_0x452931(0x299))/0xb);if(_0x40fcbd===_0x1b5cd5)break;else _0x18a1f1['push'](_0x18a1f1['shift']());}catch(_0x3338d0){_0x18a1f1['push'](_0x18a1f1['shift']());}}}(a0_0x43d0,0x2c65e));const console={'log':()=>{}};import*as a0_0x588be6 from'three';import{Utils}from'run-scene-v2';const {getRes,getMacro}=Utils;function a0_0x3f96(_0x5301d0,_0x578290){const _0x43d08b=a0_0x43d0();return a0_0x3f96=function(_0x3f96d6,_0x34a6e8){_0x3f96d6=_0x3f96d6-0x1e0;let _0x39aa25=_0x43d08b[_0x3f96d6];return _0x39aa25;},a0_0x3f96(_0x5301d0,_0x578290);}import{MTNhw}from'./MTNhw';import{FresnelShader}from'../materials/FresnelShader';import a0_0x146d6f from'vconsole';let camera,scene,controls,renderer2,renderer,dom,t,p,runScene;const setAssets=_0x2bc45f=>{const _0x3da56f=a0_0x3f96;camera=_0x2bc45f[_0x3da56f(0x22a)],scene=_0x2bc45f['scene'],controls=_0x2bc45f[_0x3da56f(0x20f)],renderer=_0x2bc45f[_0x3da56f(0x214)],dom=_0x2bc45f[_0x3da56f(0x1f6)],t=_0x2bc45f['t'];};function Change(_0x1af06b){const _0x48fc64=a0_0x3f96;setAssets({..._0x1af06b[_0x48fc64(0x20a)][_0x48fc64(0x2a9)](),'t':this,'runScene':_0x1af06b}),t[_0x48fc64(0x23f)]=_0x1af06b,this[_0x48fc64(0x242)]=new a0_0x146d6f(),this[_0x48fc64(0x21a)]=new Events(),this['methods']=new Methods(),this['cloneEvent']=new CloneEvent(),this['shopEvent']=new ShopEvent(),this[_0x48fc64(0x273)]=new TowerEvent(),this[_0x48fc64(0x2b9)]=new Flower(),this[_0x48fc64(0x28c)]=new Radial(),this[_0x48fc64(0x290)]=new KongMingLight(),this['lotusBgc']=new LotusBgc(),this[_0x48fc64(0x275)]=new Tree(),this[_0x48fc64(0x298)]=new Bubble(),this['squareLight']=new SquareLight(),controls['maxPolarAngle']=Math['PI']/0x2-0.2,controls[_0x48fc64(0x1ed)]=![],_0x1af06b['on']('lazyLoadedTexture',()=>{}),_0x1af06b['on'](_0x48fc64(0x25c),async()=>{const _0xaab619=_0x48fc64;await this[_0xaab619(0x2b9)][_0xaab619(0x1fe)](),this[_0xaab619(0x279)][_0xaab619(0x1fe)](),this[_0xaab619(0x273)][_0xaab619(0x1fe)](),this[_0xaab619(0x279)][_0xaab619(0x1f9)](),this[_0xaab619(0x28c)][_0xaab619(0x1fe)](),this[_0xaab619(0x290)]['init'](),this[_0xaab619(0x2ac)][_0xaab619(0x1fe)](),this['bubble']['init'](),this[_0xaab619(0x20c)][_0xaab619(0x1fe)]();const _0x23d2dc=t['runScene']['modelEx'][_0xaab619(0x241)]('group38_shugan1'),_0x40a133=t[_0xaab619(0x23f)][_0xaab619(0x268)][_0xaab619(0x241)](_0xaab619(0x25a));this['mtnhw']=new MTNhw({'camera':camera,'scene':scene,'renderer':renderer},{'tree':_0x23d2dc,'lightBall':_0x40a133}),this[_0xaab619(0x224)][_0xaab619(0x258)][_0xaab619(0x226)][_0xaab619(0x2b7)]=0x0,this['mtnhw'][_0xaab619(0x243)]['uniforms'][_0xaab619(0x20e)][_0xaab619(0x278)]=0x1,this[_0xaab619(0x2b0)]=new a0_0x588be6[(_0xaab619(0x24b))]();const _0x5c898a=setTimeout(()=>{clearTimeout(_0x5c898a);},0x3e8);t[_0xaab619(0x23f)]['cb'][_0xaab619(0x29c)]['add'](_0xaab619(0x1e4),()=>{const _0xf5fd92=_0xaab619;t[_0xf5fd92(0x2b9)][_0xf5fd92(0x2b9)]&&(t['flower'][_0xf5fd92(0x2b9)][_0xf5fd92(0x234)]['y']+=0.01);}),t[_0xaab619(0x23f)]['cb']['render'][_0xaab619(0x207)](_0xaab619(0x298),()=>{const _0x380e40=_0xaab619;t['bubble']['fresnelUniforms']&&(t[_0x380e40(0x298)][_0x380e40(0x219)]['time']['value']+=0x6*this[_0x380e40(0x2b0)]['getDelta']());});}),this[_0x48fc64(0x27d)]=()=>_0x1af06b[_0x48fc64(0x27d)]();}class Methods{[a0_0xad1bc4(0x241)](_0xe0cd69){const _0xe33b59=a0_0xad1bc4;return t[_0xe33b59(0x23f)][_0xe33b59(0x268)]['getModel'](_0xe0cd69);}[a0_0xad1bc4(0x1f0)](_0x4e8fbf,_0x332d09,_0x2cc6c9){const _0x1a8148=a0_0xad1bc4;t[_0x1a8148(0x23f)][_0x1a8148(0x268)][_0x1a8148(0x1f0)](t[_0x1a8148(0x23f)][_0x1a8148(0x268)][_0x1a8148(0x23e)](),_0x4e8fbf,_0x332d09,()=>{_0x2cc6c9&&_0x2cc6c9();});}['autoRotation'](_0x40edaa,_0x584eae,_0x41ff4f){const _0x248791=a0_0xad1bc4;t['runScene']['assetsEx']['controls'][_0x248791(0x252)]=_0x40edaa,t[_0x248791(0x23f)][_0x248791(0x20a)]['controls'][_0x248791(0x1ef)]=_0x584eae,_0x41ff4f&&t[_0x248791(0x23f)]['camera'][_0x248791(0x1e9)](_0x41ff4f['x'],_0x41ff4f['y'],_0x41ff4f['z']);}[a0_0xad1bc4(0x230)](_0xc635d2,_0x401db8){const _0x1db244=a0_0xad1bc4;t[_0x1db244(0x23f)][_0x1db244(0x268)][_0x1db244(0x22c)](_0xc635d2,_0x401db8);}}class CloneEvent{constructor(){}[a0_0xad1bc4(0x237)](_0x1932db){const _0x3d0a3f=a0_0xad1bc4,_0x183252=t[_0x3d0a3f(0x23f)]['modelEx']['clone'](_0x1932db);return _0x183252;}['setCopyModelProperty'](_0x1aca66,_0x52ead0){const _0x562f58=a0_0xad1bc4;_0x1aca66[_0x562f58(0x231)]=_0x52ead0['visible'],_0x1aca66[_0x562f58(0x292)][_0x562f58(0x26e)](_0x52ead0[_0x562f58(0x292)]['x'],_0x52ead0[_0x562f58(0x292)]['y'],_0x52ead0['position']['z']),_0x1aca66[_0x562f58(0x226)]=_0x1aca66[_0x562f58(0x226)]['clone'](),_0x1aca66[_0x562f58(0x226)][_0x562f58(0x29a)]=!![],_0x1aca66['material']['opacity']=_0x52ead0['opacity'],t['runScene'][_0x562f58(0x268)][_0x562f58(0x207)](_0x1aca66);}[a0_0xad1bc4(0x1ea)](_0x475b36){const _0x6723bc=a0_0xad1bc4;t['runScene'][_0x6723bc(0x268)][_0x6723bc(0x254)](_0x475b36);}}class ShopEvent{constructor(){}[a0_0xad1bc4(0x2a6)];[a0_0xad1bc4(0x2ae)];[a0_0xad1bc4(0x1fe)](){const _0x472bf1=a0_0xad1bc4;console['log'](t[_0x472bf1(0x23f)]),this[_0x472bf1(0x2ae)]=t['methods'][_0x472bf1(0x241)](_0x472bf1(0x28a)),this[_0x472bf1(0x2a6)]={'商铺1':{'borderPosition':t[_0x472bf1(0x206)][_0x472bf1(0x241)]('商铺1'),'rangePosition':{'x':678.6546835703366,'y':2.4338684543174005},'beginZ':-19.249096344726695,'endZ':43.28590330612664,'doorPosition':{'x':715.348489344153,'y':2.4338684543174005,'z':-2.304479250308624}},'商铺2':{'borderPosition':t['methods']['getModel'](_0x472bf1(0x1e1)),'rangePosition':{'x':678.6546835703366,'y':2.4338684543174005},'beginZ':-97.90748487526992,'endZ':-29.948062302714305,'doorPosition':{'x':715.348489344153,'y':2.4338684543174005,'z':-54.87039269263238}},'商铺3':{'borderPosition':t[_0x472bf1(0x206)][_0x472bf1(0x241)]('商铺3'),'rangePosition':{'x':678.6546835703366,'y':2.4338684543174005},'beginZ':-269.4245635718405,'endZ':-118.81279417207509,'doorPosition':{'x':723.711786090452,'y':2.4338684543174005,'z':-164.83815329826535}},'商铺4':{'borderPosition':t[_0x472bf1(0x206)][_0x472bf1(0x241)]('商铺4'),'rangePosition':{'x':678.6546835703366,'y':2.4338684543174005},'beginZ':-488.590102485558,'endZ':-295.1254954925516,'doorPosition':{'x':728.0633357623165,'y':2.4338684543174005,'z':-371.1869252100583}},'商铺5':{'borderPosition':t['methods'][_0x472bf1(0x241)](_0x472bf1(0x1f7)),'rangePosition':{'x':678.6546835703366,'y':2.4338684543174005},'beginZ':-790.1440452896151,'endZ':-538.4303428427537,'doorPosition':{'x':735.1260245065873,'y':2.4338684543174005,'z':-691.1992070890307}}};}[a0_0xad1bc4(0x287)](_0x1d2e6f,_0x2d9186){const _0x76ed21=a0_0xad1bc4;return Math[_0x76ed21(0x26b)]()*(_0x1d2e6f-_0x2d9186)+_0x2d9186;}['createPeopleToShop'](_0x57e701,_0x17c7f3){const _0x48e45d=a0_0xad1bc4;for(let _0x240add=0x0;_0x240add<_0x57e701;_0x240add++){let _0xbc256c=t['cloneEvent'][_0x48e45d(0x237)](this[_0x48e45d(0x2ae)]);t[_0x48e45d(0x267)]['setCopyModelProperty'](_0xbc256c,{'visible':!![],'position':{'x':this['shopMap'][_0x17c7f3][_0x48e45d(0x277)]['x'],'y':this[_0x48e45d(0x2a6)][_0x17c7f3][_0x48e45d(0x277)]['y'],'z':this[_0x48e45d(0x287)](this[_0x48e45d(0x2a6)][_0x17c7f3][_0x48e45d(0x2a0)],this[_0x48e45d(0x2a6)][_0x17c7f3][_0x48e45d(0x211)])},'opacity':0x0}),console['log'](scene[_0x48e45d(0x235)],'1'),Utils[_0x48e45d(0x221)]({'opc':0x0},{'opc':0x1},0.5,_0x2f05e5=>{const _0x56d447=_0x48e45d;_0xbc256c['material'][_0x56d447(0x2b7)]=_0x2f05e5[_0x56d447(0x289)];},()=>{const _0x291170=_0x48e45d;Utils['anima']({'x':_0xbc256c[_0x291170(0x292)]['x'],'y':_0xbc256c[_0x291170(0x292)]['y'],'z':_0xbc256c[_0x291170(0x292)]['z']},{'x':this[_0x291170(0x2a6)][_0x17c7f3]['doorPosition']['x'],'y':this['shopMap'][_0x17c7f3]['doorPosition']['y'],'z':this[_0x291170(0x2a6)][_0x17c7f3][_0x291170(0x28f)]['z']},1.5,_0x5cbc81=>{const _0x43331a=_0x291170;_0xbc256c[_0x43331a(0x292)]['x']=_0x5cbc81['x'],_0xbc256c['position']['y']=_0x5cbc81['y'],_0xbc256c[_0x43331a(0x292)]['z']=_0x5cbc81['z'],console[_0x43331a(0x1e7)](scene[_0x43331a(0x235)]['length'],'2');},()=>{const _0x5ea277=_0x291170;t['cloneEvent'][_0x5ea277(0x1ea)](_0xbc256c),console[_0x5ea277(0x1e7)](scene[_0x5ea277(0x235)][_0x5ea277(0x21d)],'3');});});}}['createGoldBorder'](){const _0x32a4e7=a0_0xad1bc4;Object[_0x32a4e7(0x286)](this[_0x32a4e7(0x2a6)])[_0x32a4e7(0x25f)](_0x2395d1=>{const _0x4054da=_0x32a4e7;let _0x2d644b=document[_0x4054da(0x274)]('.'+_0x2395d1+'金币');getMacro(()=>{const _0x105be7=_0x4054da;_0x2d644b[_0x105be7(0x225)][_0x105be7(0x207)](_0x105be7(0x27f));},0x1f4);let _0x467aa4=Utils['domTo3DSprite'](_0x2d644b);_0x467aa4[_0x4054da(0x292)]['y']+=0x64,this[_0x4054da(0x2a6)][_0x2395d1][_0x4054da(0x1fd)][_0x4054da(0x207)](_0x467aa4);});}}class TowerEvent{constructor(){}[a0_0xad1bc4(0x2ae)];['peopleArray']=[];[a0_0xad1bc4(0x271)]={};[a0_0xad1bc4(0x1fe)](){const _0xba9cb5=a0_0xad1bc4;this[_0xba9cb5(0x2ae)]=t[_0xba9cb5(0x206)][_0xba9cb5(0x241)](_0xba9cb5(0x24c)),this[_0xba9cb5(0x271)]={'1楼':t[_0xba9cb5(0x206)][_0xba9cb5(0x241)](_0xba9cb5(0x25e)),'2楼':t[_0xba9cb5(0x206)]['getModel'](_0xba9cb5(0x250)),'3楼':t['methods']['getModel']('TaLight_3F'),'4楼':t['methods'][_0xba9cb5(0x241)](_0xba9cb5(0x2a1)),'5楼':t[_0xba9cb5(0x206)]['getModel'](_0xba9cb5(0x23a)),'顶楼':t[_0xba9cb5(0x206)][_0xba9cb5(0x241)](_0xba9cb5(0x272))};}[a0_0xad1bc4(0x2b2)](){return new Promise(_0x2adcf9=>{const _0x32d73c=a0_0x3f96;let _0x5f9aef=t[_0x32d73c(0x267)][_0x32d73c(0x237)](this[_0x32d73c(0x2ae)]),_0xdc4d21=Math['random']()*(667.0088975117958-446.2797211064844)+446.2797211064844,_0x174c97=Math[_0x32d73c(0x26b)]()*(-473.85379186803544- -641.029637905563)+-641.029637905563;_0x174c97<=-0x25b&&_0x174c97>=-0x2ae&&_0xdc4d21<=0x279&&_0xdc4d21>=0x20f&&(_0xdc4d21=0x20f||0x279,_0x174c97=-0x25b||-0x2ae),t[_0x32d73c(0x267)][_0x32d73c(0x2a8)](_0x5f9aef,{'visible':!![],'position':{'x':_0xdc4d21,'y':0x0,'z':_0x174c97},'opacity':0x0}),_0x5f9aef[_0x32d73c(0x1e9)](581.4321928755762,0x0,-702.6268867583516),this[_0x32d73c(0x26c)][_0x32d73c(0x218)](_0x5f9aef),Utils[_0x32d73c(0x221)]({'opc':0x0},{'opc':0x1},0.2,_0x576f41=>{const _0x40e2f2=_0x32d73c;_0x5f9aef[_0x40e2f2(0x226)]['opacity']=_0x576f41[_0x40e2f2(0x289)];},()=>{_0x2adcf9();});});}[a0_0xad1bc4(0x251)](_0x38106d){return new Promise(_0x5d453b=>{Utils['anima']({'opc':0x1},{'opc':0x0},0.2,_0xcbcfc5=>{const _0x7caa5e=a0_0x3f96;_0x38106d['material'][_0x7caa5e(0x2b7)]=_0xcbcfc5[_0x7caa5e(0x289)];},()=>{const _0xf0bf01=a0_0x3f96;t[_0xf0bf01(0x267)][_0xf0bf01(0x1ea)](_0x38106d),_0x5d453b();});});}async['peopleApper'](_0x2a8dc4){const _0x349740=a0_0xad1bc4;if(_0x2a8dc4>=0x14)_0x2a8dc4=0x14;for(let _0x527903=0x0;_0x527903<_0x2a8dc4;_0x527903++){await this[_0x349740(0x2b2)]();}}async[a0_0xad1bc4(0x283)](_0x56f0ba){const _0xe7c7b8=a0_0xad1bc4;if(_0x56f0ba>=this['peopleArray']['length'])_0x56f0ba=this[_0xe7c7b8(0x26c)]['length'];if(_0x56f0ba==0x0)return;for(let _0x2a710e=0x0;_0x2a710e<_0x56f0ba;_0x2a710e++){await this[_0xe7c7b8(0x251)](this[_0xe7c7b8(0x26c)][0x0]),this[_0xe7c7b8(0x26c)][_0xe7c7b8(0x205)](0x0,0x1);}}['lightControl'](_0x3b08d5,_0x4b9afb){const _0x5a2b74=a0_0xad1bc4;this[_0x5a2b74(0x271)][_0x3b08d5]['visible']=_0x4b9afb;}}class Flower{[a0_0xad1bc4(0x217)]=t[a0_0xad1bc4(0x23f)]['loaderer'][a0_0xad1bc4(0x245)];[a0_0xad1bc4(0x25b)]=t[a0_0xad1bc4(0x23f)]['fileEx'];[a0_0xad1bc4(0x2b9)]=null;async[a0_0xad1bc4(0x1fe)](){const _0x5d9a57=a0_0xad1bc4,{material:_0x5b4a41}=await this['loadGlb'](),_0x3dcf0a=await this[_0x5d9a57(0x262)](_0x5d9a57(0x1fc),_0x5b4a41);t[_0x5d9a57(0x23f)][_0x5d9a57(0x221)][_0x5d9a57(0x29f)](_0x3dcf0a,[_0x5d9a57(0x2b9)]),t[_0x5d9a57(0x23f)]['modelEx']['add'](_0x3dcf0a),this[_0x5d9a57(0x2b9)]=_0x3dcf0a,this['flower'][_0x5d9a57(0x231)]=![],this[_0x5d9a57(0x2b9)][_0x5d9a57(0x292)][_0x5d9a57(0x26e)](582.1630877495076,318.1238684195186,-742.0680735984594);}[a0_0xad1bc4(0x28b)](_0x5ac4d7){const _0x261b44=a0_0xad1bc4;if(_0x5ac4d7['length']===0x1)return _0x5ac4d7[0x0];const _0x5df599=new a0_0x588be6[(_0x261b44(0x256))]();return _0x5df599[_0x261b44(0x207)](..._0x5ac4d7),_0x5df599;}async[a0_0xad1bc4(0x239)](){const _0x542485=a0_0xad1bc4,_0x4deb65=await this[_0x542485(0x217)][_0x542485(0x2a5)]('./assets/flowerMaterial.glb',{'addToScene':![],'triggerCb':![]}),_0x48333b=this[_0x542485(0x28b)](_0x4deb65);return _0x48333b[_0x542485(0x238)]='莲花材质',_0x48333b;}async['loadFbx'](_0x9deeaa,_0x9e0dbe){const _0x3a6215=a0_0xad1bc4,_0x223b05=this[_0x3a6215(0x25b)][_0x3a6215(0x1f4)][_0x3a6215(0x2b4)][_0x3a6215(0x297)](await getRes(_0x9deeaa),'');return _0x223b05[_0x3a6215(0x20b)](_0x480037=>{const _0x5c89de=_0x3a6215;t[_0x5c89de(0x23f)][_0x5c89de(0x268)][_0x5c89de(0x22c)](_0x480037,!![]),_0x480037['material']&&(_0x480037[_0x5c89de(0x226)]=t[_0x5c89de(0x23f)][_0x5c89de(0x22d)][_0x5c89de(0x2b8)](),_0x480037[_0x5c89de(0x226)]=_0x9e0dbe[_0x5c89de(0x23b)](),_0x480037['material'][_0x5c89de(0x29e)]=!![],_0x480037[_0x5c89de(0x226)]['transparent']=!![],_0x480037['material'][_0x5c89de(0x2b7)]=0x0);}),t['runScene']['sceneEx'][_0x3a6215(0x216)](_0x223b05);}async[a0_0xad1bc4(0x204)](_0x3ee573,_0x623cd8){const _0x1bf6bb=a0_0xad1bc4;t[_0x1bf6bb(0x21a)][_0x1bf6bb(0x276)]({'model':this['flower'],'isShow':_0x3ee573,'time':0x4}),t[_0x1bf6bb(0x23f)]['anima'][_0x1bf6bb(0x200)](_0x1bf6bb(0x2b9),{'onFinished'(){const _0x225c37=_0x1bf6bb;t[_0x225c37(0x21a)][_0x225c37(0x276)]({'model':t['flower'][_0x225c37(0x2b9)],'isShow':![],'time':0x2,'cb':_0x623cd8});}});}}function a0_0x43d0(){const _0xfdcf3e=['traverse','squareLight','2134596VGqUrS','progress','controls','setUsage','beginZ','replace','enable','renderer','button','cleanUnlessLevel','glbLoader','push','fresnelUniforms','events','Shedeng1','then','length','two','isCb','孔明灯组','anima','vertexShader2','values','mtnhw','classList','material','fragmentShaderEmissive','fragmentParas','pointerup','camera','DynamicDrawUsage','setGlow','materialEx','computeVertexNormals','radialMove','light','visible','once','Shedeng1_4','rotation','children','guangCangDengEvents','copyModel','name','loadGlb','TaLight_5F','clone','_gsap','pointerDown','getCamLocal','runScene','model','getModel','vConsole','treeMaterial','isOnce','gltf','拈花堂亮灯group','removeEventListener','孔明灯','Shedeng1_2','lotuModel','Clock','ren_0','mouseMove','mask','InstancedMesh','TaLight_2F','asyncDisapper','autoRotate','kongMingDengMap','remove','广场亮灯group','Group','controlStart','lightBallMesh','kongMingDeng','修光球','fbxLoader','complete','Shedeng1_1','TaLight_1F','map','3IEzAqf','pointerdown','loadFbx','62742bjiQAg','closeAnimaAtStart','power','fresnelPower','cloneEvent','modelEx','isShow','down','random','peopleArray','Shedeng1_0','set','instanceMatrix','time','lightMap','Ding','towerEvent','querySelector','tree','showAnima','rangePosition','value','shopEvent','孔明灯克隆_','Shedeng1_3','guangCangDeng','dispose','765810bhxWSx','none','this.lotuModel','270978rXGdRV','mouseUp','peopleDisapper','fresnelBias','updateMatrix','keys','getRandomRangePosition','optionsEx','opc','SP人','_loadGlb','radial','bias','vertexShader','doorPosition','kongMingLight','nianHuaiTang','position','kmd','fragmentShader','lightAnimaEvents','addEventListener','parse','bubble','33veJZdV','transparent','treeAnima','render','pointer','needsUpdate','setModelAnimaNames','endZ','TaLight_4F','downPosition','offsetY','1730510RSVwze','load','shopMap','matrix','setCopyModelProperty','get','type','select','lotusBgc','shangPuDeng','cloneModel','mouse','clock','layers','asyncApper','offsetX','fbx','one','8GmfVpb','opacity','create','flower','608027CTaWFP','商铺2','荷花背景','mouseDown','flowerRotate','fresnelScale','closeAnmia','log','kill','lookAt','clearCopyModel','onBeforeCompile','triggerClick','screenSpacePanning','reset','autoRotateSpeed','camAnima','Object3D','uniforms','4JkFYdu','parses','start','engineDom','商铺5','vertexParas','createGoldBorder','1364740fgfJoL','move','./assets/flowerAnima.fbx','borderPosition','init','setMatrixAt','play','Shedeng2','scale','Kong_Ming_Deng','show','splice','methods','add','sheDengMap','niangHuaiTangEvents','assetsEx'];a0_0x43d0=function(){return _0xfdcf3e;};return a0_0x43d0();}class Radial{[a0_0xad1bc4(0x208)]=null;['init'](){const _0x18225e=a0_0xad1bc4;this['sheDengMap']={'Shedeng1':{'model':t[_0x18225e(0x206)][_0x18225e(0x241)](_0x18225e(0x21b)),'rotation':{'x':99.42819143073471,'y':-2.8734593602424665,'z':166.82574475465094},'time':0x3e8},'Shedeng1_0':{'model':t['methods'][_0x18225e(0x241)](_0x18225e(0x26d)),'rotation':{'x':90.3934209371448,'y':17.73703333007011,'z':-109.30617576220645},'time':0x3e8},'Shedeng1_1':{'model':t['methods'][_0x18225e(0x241)](_0x18225e(0x25d)),'rotation':{'x':0x32,'y':-2.8734593602424665,'z':150.82574475465094},'time':0x3e8},'Shedeng1_2':{'model':t[_0x18225e(0x206)][_0x18225e(0x241)](_0x18225e(0x249)),'rotation':{'x':60.42819143073471,'y':-2.8734593602424665,'z':126.82574475465094},'time':0x3e8},'Shedeng1_3':{'model':t[_0x18225e(0x206)]['getModel'](_0x18225e(0x27b)),'rotation':{'x':-1.7718410164401246,'y':1.287409187499856,'z':-2.02599349243394},'time':0x14},'Shedeng1_4':{'model':t[_0x18225e(0x206)][_0x18225e(0x241)](_0x18225e(0x233)),'rotation':{'x':-1.7701299049516555,'y':-0.8572125165982781,'z':-0.10905107736147579},'time':0x14}},this[_0x18225e(0x22f)]();}['radialMove'](){Object['values'](this['sheDengMap'])['map'](_0xd8e6c2=>{const _0x5d9864=a0_0x3f96,{rotation:_0x20d19d,time:_0x598192}=_0xd8e6c2;Utils['anima']({'x':_0xd8e6c2[_0x5d9864(0x240)][_0x5d9864(0x234)]['x'],'y':_0xd8e6c2[_0x5d9864(0x240)][_0x5d9864(0x234)]['y'],'z':_0xd8e6c2[_0x5d9864(0x240)]['rotation']['z']},{'repeat':-0x1,'yoyo':!![],'x':_0x20d19d['x'],'y':_0x20d19d['y'],'z':_0x20d19d['z']},_0x598192,_0x3e48bb=>{const _0x4dd6c8=_0x5d9864;_0xd8e6c2[_0x4dd6c8(0x240)][_0x4dd6c8(0x234)]['x']=_0x3e48bb['x'],_0xd8e6c2[_0x4dd6c8(0x240)][_0x4dd6c8(0x234)]['y']=_0x3e48bb['y'],_0xd8e6c2[_0x4dd6c8(0x240)]['rotation']['z']=_0x3e48bb['z'];});});}}class KongMingLight{['fbxLoader']=t[a0_0xad1bc4(0x23f)]['fileEx'];[a0_0xad1bc4(0x253)]={};[a0_0xad1bc4(0x244)]=!![];[a0_0xad1bc4(0x295)]={};[a0_0xad1bc4(0x203)]={};[a0_0xad1bc4(0x21f)]=!![];async[a0_0xad1bc4(0x1fe)](){const _0x136a50=a0_0xad1bc4;this['kongMingDeng']=t[_0x136a50(0x206)]['getModel'](_0x136a50(0x248));const _0x2920d6=0x19;new Array(0x5)['fill']('')['map']((_0x24d1be,_0x2bafe4)=>{const _0x498427=_0x136a50,{geometry:_0x37f680,material:_0xf93ca7}=this[_0x498427(0x259)];_0x37f680[_0x498427(0x22e)](),this[_0x498427(0x203)]['kmd'+_0x2bafe4]=new a0_0x588be6[(_0x498427(0x24f))](_0x37f680[_0x498427(0x23b)](),_0xf93ca7,_0x2920d6),this['Kong_Ming_Deng'][_0x498427(0x293)+_0x2bafe4][_0x498427(0x26f)][_0x498427(0x210)](a0_0x588be6[_0x498427(0x22b)]);const _0x221c9e=new a0_0x588be6['Object3D']();for(let _0x4799ac=0x0;_0x4799ac<_0x2920d6;_0x4799ac++){let _0x1afb8c=Math[_0x498427(0x26b)]()*0xc8,_0x85c5d2=Math[_0x498427(0x26b)]()*0x3e8,_0x45b0d5=-Math[_0x498427(0x26b)]()*0x3e8;_0x221c9e[_0x498427(0x292)][_0x498427(0x26e)](_0x85c5d2,_0x1afb8c,_0x45b0d5),_0x221c9e['rotation']['set'](-Math['PI']/0x2,0x0,0x0),_0x221c9e[_0x498427(0x202)]['set'](0x2,0x2,0x2),this['Kong_Ming_Deng'][_0x498427(0x293)+_0x2bafe4][_0x498427(0x1ff)](_0x4799ac,_0x221c9e[_0x498427(0x2a7)]),this['kongMingDengMap'][_0x498427(0x27a)+_0x2bafe4+_0x4799ac]={'id':_0x4799ac,'model':this[_0x498427(0x203)][_0x498427(0x293)+_0x2bafe4],'oldPositionY':_0x1afb8c},_0x221c9e[_0x498427(0x285)](),this[_0x498427(0x203)]['kmd'+_0x2bafe4][_0x498427(0x26f)][_0x498427(0x29e)]=!![],this[_0x498427(0x203)]['kmd'+_0x2bafe4][_0x498427(0x231)]=![];}this[_0x498427(0x203)][_0x498427(0x293)+_0x2bafe4][_0x498427(0x238)]=_0x498427(0x220)+(_0x2bafe4+0x1),t[_0x498427(0x23f)][_0x498427(0x268)][_0x498427(0x207)](this[_0x498427(0x203)]['kmd'+_0x2bafe4]);});}[a0_0xad1bc4(0x221)](_0x2b8929){const _0x5ee18e=a0_0xad1bc4;return new Promise(_0x263305=>{const _0x2c2860=a0_0x3f96;Object[_0x2c2860(0x223)](this[_0x2c2860(0x203)])['map']((_0x3ac696,_0x4b54ff)=>{const _0x5b7a9a=_0x2c2860;if(this['lightAnimaEvents'][_0x3ac696[_0x5b7a9a(0x238)]])this['lightAnimaEvents']?this['lightAnimaEvents'][_0x3ac696['name']][_0x5b7a9a(0x1e8)]():null;const _0xf855a8={'light':_0x3ac696,'name':_0x3ac696['name'],'s':_0x263305,'cb':_0x2b8929,'index':_0x4b54ff};this[_0x5b7a9a(0x23c)](_0xf855a8);});})[_0x5ee18e(0x21c)](()=>{_0x2b8929();});}[a0_0xad1bc4(0x23c)](_0x42d1f9){const _0x38741c=a0_0xad1bc4,{light:_0x589619,name:_0xf67f52,s:_0xb2d8c0,cb:_0x37d718,index:_0x18793c}=_0x42d1f9;_0x589619[_0x38741c(0x2b1)][_0x38741c(0x213)](0x1),_0x589619['visible']=!![],_0x589619[_0x38741c(0x292)]['y']=0x0;const _0x2362cd=Math['random']()*0x1f4,_0x225572=(Math['random']()+0.6)*0x19;this[_0x38741c(0x295)][_0xf67f52]=Utils[_0x38741c(0x221)]({'lightY':_0x589619[_0x38741c(0x292)]['y'],'opc':0x1},{'lightY':_0x2362cd,'opc':0x0},_0x225572,_0x6f78bd=>{const _0x57f81c=_0x38741c;_0x589619[_0x57f81c(0x292)]['y']=_0x6f78bd['lightY'];},()=>{const _0x556ccd=_0x38741c;_0x589619[_0x556ccd(0x231)]=![];if(_0x18793c+0x1===Object[_0x556ccd(0x223)](this[_0x556ccd(0x203)])[_0x556ccd(0x21d)])_0xb2d8c0();});}}class LotusBgc{[a0_0xad1bc4(0x24a)]=null;[a0_0xad1bc4(0x1fe)](){const _0x2309d5=a0_0xad1bc4;this['lotuModel']=t[_0x2309d5(0x206)][_0x2309d5(0x241)](_0x2309d5(0x1e2));}async[a0_0xad1bc4(0x269)](_0x53fa3b,_0x3471cb,_0x3cdbbf){const _0x586f38=a0_0xad1bc4;console[_0x586f38(0x1e7)](this[_0x586f38(0x24a)],_0x586f38(0x280)),t[_0x586f38(0x21a)][_0x586f38(0x276)]({'model':this[_0x586f38(0x24a)],'isShow':_0x53fa3b,'time':_0x3cdbbf,'cb':_0x3471cb});}}class Tree{['once']=!![];[a0_0xad1bc4(0x29b)]={};[a0_0xad1bc4(0x221)](){const _0x3861cd=a0_0xad1bc4;this[_0x3861cd(0x1ee)](),this['treeAnima'][_0x3861cd(0x2b5)]=Utils[_0x3861cd(0x221)]({'pg':0x1},{'pg':0x0},0x6,_0x552328=>{const _0x1a3308=_0x3861cd;t[_0x1a3308(0x224)][_0x1a3308(0x243)][_0x1a3308(0x1f2)][_0x1a3308(0x20e)][_0x1a3308(0x278)]=_0x552328['pg'];if(_0x552328['pg']<=0.5&&this[_0x1a3308(0x232)]){this[_0x1a3308(0x232)]=![];if(this[_0x1a3308(0x232)])return;this['treeAnima'][_0x1a3308(0x21e)]&&this[_0x1a3308(0x29b)][_0x1a3308(0x21e)][_0x1a3308(0x1e8)](),t[_0x1a3308(0x224)][_0x1a3308(0x258)][_0x1a3308(0x226)]['opacity']=0x0,t[_0x1a3308(0x275)][_0x1a3308(0x29b)][_0x1a3308(0x21e)]=Utils['anima']({'opc':0x0},{'opc':0x1},0x2,_0x14e818=>{const _0x41bafc=_0x1a3308;t['mtnhw'][_0x41bafc(0x258)][_0x41bafc(0x226)][_0x41bafc(0x2b7)]=_0x14e818[_0x41bafc(0x289)];});}},()=>{const _0x385a92=_0x3861cd;this[_0x385a92(0x232)]=!![],t[_0x385a92(0x224)][_0x385a92(0x258)][_0x385a92(0x226)]['opacity']=0x0,t['mtnhw']['treeMaterial']['uniforms'][_0x385a92(0x20e)][_0x385a92(0x278)]=0x1;});}['reset'](){const _0x571f83=a0_0xad1bc4;this[_0x571f83(0x232)]=!![],t[_0x571f83(0x224)][_0x571f83(0x243)]['uniforms'][_0x571f83(0x20e)][_0x571f83(0x278)]=0x1,t[_0x571f83(0x224)]['lightBallMesh'][_0x571f83(0x226)]['opacity']=0x0,this[_0x571f83(0x29b)][_0x571f83(0x21e)]&&this['treeAnima']['two']['kill'](),this[_0x571f83(0x29b)]['one']&&this[_0x571f83(0x29b)][_0x571f83(0x2b5)][_0x571f83(0x1e8)]();}}class Bubble{['bubble']=null;['fresnelUniforms']=undefined;['init'](){const _0x406bcd=a0_0xad1bc4;this[_0x406bcd(0x298)]=t[_0x406bcd(0x206)][_0x406bcd(0x241)]('水泡'),this['bubble'][_0x406bcd(0x231)]=!![],this['bubble'][_0x406bcd(0x202)][_0x406bcd(0x26e)](0x0,0x0,0x0),this[_0x406bcd(0x219)]=FresnelShader[_0x406bcd(0x1f2)],this[_0x406bcd(0x298)][_0x406bcd(0x226)][_0x406bcd(0x1eb)]=_0x20f946=>{const _0x205c4d=_0x406bcd;if(!_0x20f946[_0x205c4d(0x1f2)][_0x205c4d(0x270)])_0x20f946[_0x205c4d(0x1f2)][_0x205c4d(0x270)]=this['fresnelUniforms'][_0x205c4d(0x270)];if(!_0x20f946[_0x205c4d(0x1f2)]['fresnelBias'])_0x20f946['uniforms'][_0x205c4d(0x284)]=this[_0x205c4d(0x219)][_0x205c4d(0x28d)];if(!_0x20f946[_0x205c4d(0x1f2)]['fresnelScale'])_0x20f946[_0x205c4d(0x1f2)][_0x205c4d(0x1e5)]=this[_0x205c4d(0x219)]['scale'];if(!_0x20f946[_0x205c4d(0x1f2)]['fresnelPower'])_0x20f946['uniforms'][_0x205c4d(0x266)]=this['fresnelUniforms'][_0x205c4d(0x265)];_0x20f946[_0x205c4d(0x28e)]=_0x20f946[_0x205c4d(0x28e)][_0x205c4d(0x212)](/varying vec3 vWorldPosition;/g,FresnelShader[_0x205c4d(0x1f8)]),_0x20f946[_0x205c4d(0x28e)]=_0x20f946[_0x205c4d(0x28e)][_0x205c4d(0x212)](/#include <begin_vertex>/g,FresnelShader['vertexShader1']),_0x20f946[_0x205c4d(0x28e)]=_0x20f946[_0x205c4d(0x28e)][_0x205c4d(0x212)](/vWorldPosition = worldPosition.xyz;/g,FresnelShader[_0x205c4d(0x222)]),_0x20f946[_0x205c4d(0x294)]=_0x20f946['fragmentShader'][_0x205c4d(0x212)](/#include <transmission_pars_fragment>/g,FresnelShader[_0x205c4d(0x228)]),_0x20f946[_0x205c4d(0x294)]=_0x20f946[_0x205c4d(0x294)][_0x205c4d(0x212)](/vec3 totalEmissiveRadiance = emissive;/g,FresnelShader[_0x205c4d(0x227)]);};}[a0_0xad1bc4(0x21a)](){const _0x49594a=a0_0xad1bc4;Utils[_0x49594a(0x221)]({'scale':0x0},{'scale':0x1},0x3,_0x14c627=>{const _0x4012fc=_0x49594a;this[_0x4012fc(0x298)][_0x4012fc(0x202)][_0x4012fc(0x26e)](_0x14c627[_0x4012fc(0x202)],_0x14c627[_0x4012fc(0x202)],_0x14c627['scale']);},()=>{let _0x3dfb92=setTimeout(()=>{const _0x413607=a0_0x3f96;this['bubble'][_0x413607(0x202)][_0x413607(0x26e)](0x0,0x0,0x0),clearTimeout(_0x3dfb92);},0xbb8);});}}class SquareLight{['nianHuangTang']=null;[a0_0xad1bc4(0x27c)]=null;[a0_0xad1bc4(0x1fe)](){const _0x53559d=a0_0xad1bc4;this['nianHuaiTang']=t[_0x53559d(0x23f)][_0x53559d(0x268)]['getModel'](_0x53559d(0x246)),this[_0x53559d(0x27c)]=t[_0x53559d(0x23f)][_0x53559d(0x268)]['getModel'](_0x53559d(0x255)),this['shangPuDeng']=t['runScene'][_0x53559d(0x268)]['getModel']('商铺亮灯group');}[a0_0xad1bc4(0x209)](_0x2b254b){const _0x3b1c36=a0_0xad1bc4;this[_0x3b1c36(0x291)][_0x3b1c36(0x231)]=_0x2b254b;}[a0_0xad1bc4(0x236)](_0x2a36b9){const _0x24ae08=a0_0xad1bc4;this[_0x24ae08(0x27c)][_0x24ae08(0x235)][_0x24ae08(0x25f)](_0x3a4c71=>{const _0x16719d=_0x24ae08;_0x3a4c71[_0x16719d(0x238)]===_0x16719d(0x201)?_0x3a4c71[_0x16719d(0x231)]=_0x2a36b9:t['runScene']['modelEx'][_0x16719d(0x22c)](_0x3a4c71,_0x2a36b9);});}['shangPuDengEvents'](_0x598261){const _0x25d4ba=a0_0xad1bc4;this[_0x25d4ba(0x2ad)]['traverse'](_0x5067ce=>{const _0x2fff50=_0x25d4ba;_0x5067ce[_0x2fff50(0x2b1)]&&(_0x5067ce[_0x2fff50(0x2b1)][_0x2fff50(0x24e)]=_0x598261?0x3:0x1),_0x5067ce[_0x2fff50(0x2b1)]&&t[_0x2fff50(0x23f)][_0x2fff50(0x268)][_0x2fff50(0x22c)](_0x5067ce,_0x598261);});}}class Events{constructor(){const _0x5f5de3=a0_0xad1bc4;controls[_0x5f5de3(0x296)](_0x5f5de3(0x1f5),this['controlStart']),t[_0x5f5de3(0x23f)]['optionsEx']['cb'][_0x5f5de3(0x21a)][_0x5f5de3(0x29d)][_0x5f5de3(0x26a)]['add'](_0x5f5de3(0x23d),this['mouseDown']),t[_0x5f5de3(0x23f)][_0x5f5de3(0x288)]['cb']['events'][_0x5f5de3(0x29d)]['up'][_0x5f5de3(0x207)]('pointerUp',this[_0x5f5de3(0x282)]),t['runScene'][_0x5f5de3(0x288)]['cb']['events'][_0x5f5de3(0x2af)][_0x5f5de3(0x1fb)][_0x5f5de3(0x207)](_0x5f5de3(0x24d),()=>{});}['showAnima'](_0x5e2126){const _0x2ca997=a0_0xad1bc4,{model:_0x31cdd5,isShow:_0x180e3a,time:_0x2858f2,cb:_0xb71ecd}=_0x5e2126,_0x565301=[];_0x31cdd5[_0x2ca997(0x20b)](_0x29eef1=>{const _0x1237b2=_0x2ca997;if(_0x29eef1[_0x1237b2(0x2aa)]===_0x1237b2(0x256))return;if(_0x29eef1['type']===_0x1237b2(0x1f1))return;_0x29eef1[_0x1237b2(0x226)][_0x1237b2(0x29a)]=!![],_0x180e3a?_0x29eef1[_0x1237b2(0x226)][_0x1237b2(0x2b7)]=0x0:null,_0x565301['push'](_0x29eef1);});if(_0x180e3a)_0x31cdd5[_0x2ca997(0x231)]=_0x180e3a;Utils[_0x2ca997(0x221)]({'opc':_0x180e3a?0x0:0x1},{'opc':_0x180e3a?0x1:0x0},_0x2858f2,_0x120eba=>{const _0xfd8e54=_0x2ca997;_0x565301[_0xfd8e54(0x25f)](_0x4b6d9a=>_0x4b6d9a[_0xfd8e54(0x226)][_0xfd8e54(0x2b7)]=_0x120eba[_0xfd8e54(0x289)]);},()=>{const _0x4edfdd=_0x2ca997;if(!_0x180e3a)_0x31cdd5[_0x4edfdd(0x231)]=_0x180e3a;_0xb71ecd&&_0xb71ecd();});}[a0_0xad1bc4(0x2a2)]={'x':0x0,'y':0x0};['closeAnimaAtStart']={};[a0_0xad1bc4(0x1e3)]=_0xc69928=>{const _0xf3391a=a0_0xad1bc4;this[_0xf3391a(0x2a2)]={'x':_0xc69928[_0xf3391a(0x2b3)],'y':_0xc69928[_0xf3391a(0x2a3)]};};[a0_0xad1bc4(0x282)]=_0x30c3a1=>{const _0x3ad355=a0_0xad1bc4;if(_0x30c3a1[_0x3ad355(0x215)]===0x2)return;const _0x9b2c83=_0x30c3a1[_0x3ad355(0x2b3)],_0x4c8abe=_0x30c3a1[_0x3ad355(0x2a3)],{x:_0xdd4417,y:_0x5b97ad}=this[_0x3ad355(0x2a2)];_0x9b2c83===_0xdd4417&&_0x4c8abe===_0x5b97ad&&this[_0x3ad355(0x1ec)](_0x30c3a1);};[a0_0xad1bc4(0x1ec)]=_0x564f7d=>{const _0x20c906=a0_0xad1bc4,_0x994291=t[_0x20c906(0x23f)][_0x20c906(0x268)][_0x20c906(0x2ab)];if(!_0x994291)return;};[a0_0xad1bc4(0x257)]=()=>{};[a0_0xad1bc4(0x1e6)](){const _0x26fe11=a0_0xad1bc4;Object['values'](this[_0x26fe11(0x264)])['map'](_0x540aed=>_0x540aed&&_0x540aed['kill']());}['dispose'](){const _0x4dc6aa=a0_0xad1bc4;dom[_0x4dc6aa(0x247)](_0x4dc6aa(0x261),this[_0x4dc6aa(0x1e3)]),dom[_0x4dc6aa(0x247)](_0x4dc6aa(0x229),this['mouseUp']),controls[_0x4dc6aa(0x247)](_0x4dc6aa(0x1f5),this[_0x4dc6aa(0x257)]);}}export default Change;